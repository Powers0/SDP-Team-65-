<!DOCTYPE html>
<html>
  <head>
    <title>Pitch Prediction</title>

    <style>
      .search-box {
        margin-bottom: 5px;
        padding: 6px;
        width: 250px;
      }
      select {
        width: 260px;
        padding: 6px;
      }
    </style>

    <script>
      function filterDropdown(inputId, dropdownId) {
        const input = document.getElementById(inputId).value.toLowerCase();
        const options = document.getElementById(dropdownId).options;

        for (let i = 0; i < options.length; i++) {
          const text = options[i].text.toLowerCase();
          options[i].style.display = text.includes(input) ? "" : "none";
        }
      }
    </script>
  </head>

  <body>
    <h2>Pitch Prediction Demo</h2>

    <form method="POST">
      <!-- ===================== HITTER SEARCH ===================== -->
      <label>Hitter:</label><br />
      <input
        id="hitterSearch"
        class="search-box"
        type="text"
        placeholder="Search hitter..."
        onkeyup="filterDropdown('hitterSearch', 'hitterDropdown')"
      />

      <select name="hitter" id="hitterDropdown">
        {% for name in hitters %}
        <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
      </select>

      <br /><br />

      <!-- ===================== PITCHER SEARCH ===================== -->
      <label>Pitcher:</label><br />
      <input
        id="pitcherSearch"
        class="search-box"
        type="text"
        placeholder="Search pitcher..."
        onkeyup="filterDropdown('pitcherSearch', 'pitcherDropdown')"
      />

      <select name="pitcher" id="pitcherDropdown">
        {% for name in pitchers %}
        <option value="{{ name }}">{{ name }}</option>
        {% endfor %}
      </select>

      <br /><br />
      <button type="submit">Predict</button>
    </form>

    <!-- Results -->
    {% if prediction %}
    <h3>Predicted Pitch Type: {{ prediction }}</h3>
    {% endif %} {% if location %}
    <h3>Predicted Location: {{ location }}</h3>
    {% endif %} {% if error %}
    <p style="color: red">Error: {{ error }}</p>
    {% endif %}
  </body>
</html>
